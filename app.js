const apiEndpoint =
	"https://api.open-meteo.com/v1/forecast?latitude=51.5085&longitude=-0.1257&current=temperature_2m,weather_code,wind_speed_10m&wind_speed_unit=mph&timezone=GMT&forecast_days=1";
// use DOM manipulation to get elements
const weatherImg = document.querySelector("#weatherConditionImg");
const weatherTemp = document.querySelector("#weatherTemp");
const weatherLoc = document.querySelector("#weatherLocation");
const timeDisplay = document.querySelector("#timeDisplay");
const weatherCondition = document.querySelector("#weatherCondition");

// Create a async function to call back weather api data
async function getWeatherData() {
	// // Use fetch to get api JSON response
	try {
		const response = await fetch(apiEndpoint, { method: "GET" });
		if (!response.ok) {
			throw new Error(`HTTP error! status: ${response.status}`);
		}
		// // parse response using josn()
		const data = await response.json();
		return data;
	} catch (error) {
		// // Catch error
		console.error("Could not fetch weather data: ", error);
	}
}

// Create function to use data from api (async)
async function handleData() {
	const weatherData = await getWeatherData();
	console.log(weatherData);

	// feed data to selected DOM elements
	// save elements as variables
	const temp = Math.round(weatherData.current.temperature_2m);
	const formattedTime = convertDate(weatherData.current.time);
	const formattedWeatherCode = convertWeatherCode(
		weatherData.current.weather_code
	);

	weatherTemp.textContent = `${temp}Â°C`;
	timeDisplay.textContent = `${formattedTime}`;
	weatherCondition.textContent = `${formattedWeatherCode[0]}`;
	weatherImg.innerHTML = `${formattedWeatherCode[1]}`;
}

function convertDate(timeString) {
	// Convert the time string to a Date object
	const date = new Date(timeString);

	console.log(timeString);

	// Define options for toLocaleString() to format the date
	const options = {
		weekday: "long",
		hour: "numeric",
		minute: "numeric",
		hourCycle: "h12",
	};

	// Format the date to the desired format
	const formattedTime = date.toLocaleString("en-GB", options);

	// Output: "Friday, 10:30 AM"
	return formattedTime;
}

function convertWeatherCode(weatherCode) {
	const weatherCodes = {
		0: [
			"Clear sky",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 2a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1m0 21a7 7 0 1 0 0-14a7 7 0 0 0 0 14m0-2a5 5 0 1 1 0-10a5 5 0 0 1 0 10m13-4a1 1 0 0 0 0-2h-2a1 1 0 1 0 0 2zm-13 9a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1M5 17a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2zm.294-11.706a1 1 0 0 1 1.414 0l2 2a1 1 0 1 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414m1.414 21.414a1 1 0 0 1-1.414-1.414l2-2a1 1 0 1 1 1.414 1.414zm20-21.414a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 1.414 1.414l2-2a1 1 0 0 0 0-1.414m-1.414 21.414a1 1 0 0 0 1.414-1.414l-2-2a1 1 0 1 0-1.414 1.414z"/></svg>`,
		],
		1: [
			"Mainly clear",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 2a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1m0 21a7 7 0 1 0 0-14a7 7 0 0 0 0 14m0-2a5 5 0 1 1 0-10a5 5 0 0 1 0 10m13-4a1 1 0 0 0 0-2h-2a1 1 0 1 0 0 2zm-13 9a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1M5 17a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2zm.294-11.706a1 1 0 0 1 1.414 0l2 2a1 1 0 1 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414m1.414 21.414a1 1 0 0 1-1.414-1.414l2-2a1 1 0 1 1 1.414 1.414zm20-21.414a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 1.414 1.414l2-2a1 1 0 0 0 0-1.414m-1.414 21.414a1 1 0 0 0 1.414-1.414l-2-2a1 1 0 1 0-1.414 1.414z"/></svg>`,
		],
		2: [
			"Partly cloudy",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M13.002 7.009c3.168 0 4.966 2.097 5.227 4.63h.08a3.687 3.687 0 0 1 3.692 3.683a3.687 3.687 0 0 1-3.692 3.682H7.694a3.687 3.687 0 0 1-3.692-3.682a3.687 3.687 0 0 1 3.692-3.683h.08c.263-2.55 2.06-4.63 5.228-4.63m0 1.497c-2.072 0-3.877 1.634-3.877 3.89c0 .357-.319.638-.684.638h-.69c-1.262 0-2.284 1-2.284 2.236c0 1.235 1.022 2.236 2.283 2.236h10.503c1.261 0 2.283-1 2.283-2.236c0-1.235-1.022-2.236-2.283-2.236h-.69c-.366 0-.685-.28-.685-.638c0-2.285-1.805-3.89-3.876-3.89M10 4c1.617 0 3.05.815 3.9 2.062a7.496 7.496 0 0 0-.898-.053c-.395 0-.775.029-1.139.085a3.22 3.22 0 0 0-5.032 2.062l-.073.414a1 1 0 0 1-.985.827h-.49a1.782 1.782 0 0 0-1.264 3.04c-.315.4-.565.855-.735 1.347a3.282 3.282 0 0 1 1.812-5.881l.257-.006A4.72 4.72 0 0 1 10 4"/></svg>`,
		],
		3: [
			"Overcast",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M13.002 7.009c3.168 0 4.966 2.097 5.227 4.63h.08a3.687 3.687 0 0 1 3.692 3.683a3.687 3.687 0 0 1-3.692 3.682H7.694a3.687 3.687 0 0 1-3.692-3.682a3.687 3.687 0 0 1 3.692-3.683h.08c.263-2.55 2.06-4.63 5.228-4.63m0 1.497c-2.072 0-3.877 1.634-3.877 3.89c0 .357-.319.638-.684.638h-.69c-1.262 0-2.284 1-2.284 2.236c0 1.235 1.022 2.236 2.283 2.236h10.503c1.261 0 2.283-1 2.283-2.236c0-1.235-1.022-2.236-2.283-2.236h-.69c-.366 0-.685-.28-.685-.638c0-2.285-1.805-3.89-3.876-3.89M10 4c1.617 0 3.05.815 3.9 2.062a7.496 7.496 0 0 0-.898-.053c-.395 0-.775.029-1.139.085a3.22 3.22 0 0 0-5.032 2.062l-.073.414a1 1 0 0 1-.985.827h-.49a1.782 1.782 0 0 0-1.264 3.04c-.315.4-.565.855-.735 1.347a3.282 3.282 0 0 1 1.812-5.881l.257-.006A4.72 4.72 0 0 1 10 4"/></svg>`,
		],
		45: [
			"Fog",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="currentColor" d="M6.5 15.024h7a.5.5 0 0 1 .09.992l-.09.008h-7a.5.5 0 0 1-.09-.992zm-1.996-2h10.992a.5.5 0 0 1 .091.992l-.09.008H4.503a.502.502 0 0 1-.504-.5a.5.5 0 0 1 .413-.491zm5.496-10c2.465 0 3.863 1.574 4.066 3.474h.062C15.714 6.498 17 7.735 17 9.261c0 1.526-1.286 2.763-2.872 2.763H5.872C4.286 12.024 3 10.787 3 9.261c0-1.469 1.192-2.67 2.697-2.758l.237-.005C6.139 4.586 7.535 3.024 10 3.024m0 1c-1.65 0-3.087 1.27-3.087 3.025c0 .278-.254.497-.545.497h-.55C4.814 7.546 4 8.324 4 9.285c0 .96.814 1.74 1.818 1.74h8.364c1.004 0 1.818-.78 1.818-1.74s-.814-1.74-1.818-1.74h-.55c-.29 0-.545-.218-.545-.496c0-1.777-1.438-3.025-3.087-3.025"/></svg>`,
		],
		48: [
			"Depositing rime fog",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="currentColor" d="M6.5 15.024h7a.5.5 0 0 1 .09.992l-.09.008h-7a.5.5 0 0 1-.09-.992zm-1.996-2h10.992a.5.5 0 0 1 .091.992l-.09.008H4.503a.502.502 0 0 1-.504-.5a.5.5 0 0 1 .413-.491zm5.496-10c2.465 0 3.863 1.574 4.066 3.474h.062C15.714 6.498 17 7.735 17 9.261c0 1.526-1.286 2.763-2.872 2.763H5.872C4.286 12.024 3 10.787 3 9.261c0-1.469 1.192-2.67 2.697-2.758l.237-.005C6.139 4.586 7.535 3.024 10 3.024m0 1c-1.65 0-3.087 1.27-3.087 3.025c0 .278-.254.497-.545.497h-.55C4.814 7.546 4 8.324 4 9.285c0 .96.814 1.74 1.818 1.74h8.364c1.004 0 1.818-.78 1.818-1.74s-.814-1.74-1.818-1.74h-.55c-.29 0-.545-.218-.545-.496c0-1.777-1.438-3.025-3.087-3.025"/></svg>`,
		],
		51: [
			"Drizzle: Light",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		53: [
			"Drizzle: Moderate",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		55: [
			"Drizzle: Dense intensity",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		56: [
			"Freezing Drizzle: Light",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		57: [
			"Freezing Drizzle: Dense intensity",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		61: [
			"Rain: Slight",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		63: [
			"Rain: Moderate",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		65: [
			"Rain: Heavy intensity",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		66: [
			"Freezing Rain: Light",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		67: [
			"Freezing Rain: Heavy intensity",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		71: [
			"Snow fall: Slight",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"/></svg>`,
		],
		73: [
			"Snow fall: Moderate",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"
        />
      </svg>`,
		],
		75: [
			"Snow fall: Heavy intensity",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"
        />
      </svg>`,
		],
		77: [
			"Snow grains",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"
        />
      </svg>,`,
		],
		80: [
			"Rain showers: Slight",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"
        />
      </svg>`,
		],
		81: [
			"Rain showers: Moderate",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		82: [
			"Rain showers: Violent",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3.001c3.169 0 4.966 2.097 5.227 4.63h.08A3.687 3.687 0 0 1 21 11.314a3.687 3.687 0 0 1-3.692 3.682h-.582l-.003.004h-.264a.751.751 0 0 1-.083.167l-1 1.5a.75.75 0 0 1-1.248-.832l.559-.839h-1.83l-.002.004h-.397a.746.746 0 0 1-.083.166l-1 1.5a.75.75 0 1 1-1.248-.831l.56-.839H8.986L8.985 15h-.527a.75.75 0 0 1-.084.167l-1 1.5a.75.75 0 0 1-1.248-.832l.56-.839A3.687 3.687 0 0 1 3 11.314A3.687 3.687 0 0 1 6.693 7.63h.08C7.035 5.08 8.831 3 12 3m0 1.498c-2.071 0-3.877 1.633-3.877 3.889c0 .357-.319.638-.684.638h-.69c-1.261 0-2.284 1.001-2.284 2.236c0 1.235 1.023 2.237 2.284 2.237H17.25c1.261 0 2.284-1.002 2.284-2.237s-1.023-2.236-2.284-2.236h-.69c-.365 0-.684-.28-.684-.638c0-2.285-1.806-3.89-3.877-3.89M7.126 18.834a.75.75 0 1 0 1.248.832l1-1.5a.75.75 0 1 0-1.248-.832zm4.208 1.04a.75.75 0 0 1-.208-1.04l1-1.5a.75.75 0 1 1 1.248.832l-1 1.5a.75.75 0 0 1-1.04.208"/></svg>`,
		],
		85: [
			"Snow showers slight",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"
        />
      </svg>`,
		],
		86: [
			"Snow showers heavy",
			`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M6.5 19q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T6.5 16.5q.525 0 .888.363t.362.887q0 .525-.363.888T6.5 19m3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888T9.5 19.5q.525 0 .888.363t.362.887q0 .525-.363.888T9.5 22m3-3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T12.5 19m6 0q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T18.5 19m-3 3q-.525 0-.888-.363t-.362-.887q0-.525.363-.888t.887-.362q.525 0 .888.363t.362.887q0 .525-.363.888T15.5 22m-8-7q-2.275 0-3.887-1.612T2 9.5q0-2.075 1.375-3.625t3.4-1.825q.8-1.425 2.188-2.238T12 1q2.25 0 3.913 1.438t2.012 3.587q1.725.15 2.9 1.425T22 10.5q0 1.875-1.312 3.188T17.5 15zm0-2h10q1.05 0 1.775-.725T20 10.5q0-1.05-.725-1.775T17.5 8H16V7q0-1.65-1.175-2.825T12 3q-1.2 0-2.187.65T8.325 5.4l-.25.6H7.45q-1.425.05-2.437 1.063T4 9.5q0 1.45 1.025 2.475T7.5 13m4.5-2.5"
        />
      </svg>`,
		],
		95: [
			"Thunderstorm: Slight or moderate",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 2a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1m0 21a7 7 0 1 0 0-14a7 7 0 0 0 0 14m0-2a5 5 0 1 1 0-10a5 5 0 0 1 0 10m13-4a1 1 0 0 0 0-2h-2a1 1 0 1 0 0 2zm-13 9a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1M5 17a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2zm.294-11.706a1 1 0 0 1 1.414 0l2 2a1 1 0 1 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414m1.414 21.414a1 1 0 0 1-1.414-1.414l2-2a1 1 0 1 1 1.414 1.414zm20-21.414a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 1.414 1.414l2-2a1 1 0 0 0 0-1.414m-1.414 21.414a1 1 0 0 0 1.414-1.414l-2-2a1 1 0 1 0-1.414 1.414z"/></svg>`,
		],
		96: [
			"Thunderstorm with slight hail",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 2a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1m0 21a7 7 0 1 0 0-14a7 7 0 0 0 0 14m0-2a5 5 0 1 1 0-10a5 5 0 0 1 0 10m13-4a1 1 0 0 0 0-2h-2a1 1 0 1 0 0 2zm-13 9a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1M5 17a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2zm.294-11.706a1 1 0 0 1 1.414 0l2 2a1 1 0 1 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414m1.414 21.414a1 1 0 0 1-1.414-1.414l2-2a1 1 0 1 1 1.414 1.414zm20-21.414a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 1.414 1.414l2-2a1 1 0 0 0 0-1.414m-1.414 21.414a1 1 0 0 0 1.414-1.414l-2-2a1 1 0 1 0-1.414 1.414z"/></svg>`,
		],
		99: [
			"Thunderstorm with heavy hail",
			`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 2a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0V3a1 1 0 0 1 1-1m0 21a7 7 0 1 0 0-14a7 7 0 0 0 0 14m0-2a5 5 0 1 1 0-10a5 5 0 0 1 0 10m13-4a1 1 0 0 0 0-2h-2a1 1 0 1 0 0 2zm-13 9a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1M5 17a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2zm.294-11.706a1 1 0 0 1 1.414 0l2 2a1 1 0 1 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414m1.414 21.414a1 1 0 0 1-1.414-1.414l2-2a1 1 0 1 1 1.414 1.414zm20-21.414a1 1 0 0 0-1.414 0l-2 2a1 1 0 0 0 1.414 1.414l2-2a1 1 0 0 0 0-1.414m-1.414 21.414a1 1 0 0 0 1.414-1.414l-2-2a1 1 0 1 0-1.414 1.414z"/></svg>`,
		],
	};

	const weatherLookup = weatherCode;
	const weatherDescription = weatherCodes[weatherLookup][0];
	const weatherIcon = weatherCodes[weatherLookup][1];

	return [weatherDescription, weatherIcon];
}
handleData();
